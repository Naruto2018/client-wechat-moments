<!-- *
    Fresns 微信小程序 (https://fresns.org)
    Copyright 2021-Present Jarvis Tang
    Licensed under the Apache-2.0 license
* -->
<page-meta root-font-size="system"/>
<view class="page" data-weui-theme="{{theme}}">

    <view class="weui-flex tab-navbar weui-navbar">
        <view class="weui-flex__item weui-navbar__item weui-navbar__item_on">
            <navigator url="/pages/posts/index" open-type="redirect">主页</navigator>
        </view>
        <view class="weui-flex__item weui-navbar__item">
            <navigator url="/pages/posts/list" open-type="redirect">列表</navigator>
        </view>
        <view class="weui-flex__item weui-navbar__item">
            <navigator url="/pages/posts/follows" open-type="redirect">关注</navigator>
        </view>
        <view class="weui-flex__item weui-navbar__item">
            <navigator url="/pages/posts/likes" open-type="redirect">我点赞</navigator>
        </view>
        <view class="weui-flex__item weui-navbar__item">
            <navigator url="/pages/posts/following" open-type="redirect">我关注</navigator>
        </view>
        <view class="weui-flex__item weui-navbar__item">
            <navigator url="/pages/posts/blocking" open-type="redirect">我屏蔽</navigator>
        </view>
    </view>

    <!--帖子列表-->
    <view class="post-list" wx:for="{{posts}}" wx:for-item="post" wx:key="pid">
        <post generic:contentType="post-list" fsui="list-style" post="{{post}}"></post>
    </view>

    <!--File image Gallery-->
    <view wx:if="{{imageGallery}}" class="weui-gallery fadeIn" bindtap="ImageClose">
        <view class="weui-gallery__info">1/9</view>
        <view class="weui-gallery__img__wrp">
            <image mode="aspectFit" class="weui-gallery__img" src="https://fresns.org/prototype/assets/images/temp/image.jpg">
            </image>
        </view>
    </view>

    <view wx:if="{{isShowShareChoose}}" class="fadeIn">
        <view class="weui-mask"></view>
        <view class="weui-actionsheet weui-actionsheet_toggle">
            <view class="weui-actionsheet__title">
                <view class="weui-actionsheet__title-text">分享选择</view>
            </view>
            <view class="weui-actionsheet__menu">
                <button class="weui-actionsheet__cell" style="background: transparent;" open-type="share">分享给好友</button>
                <view class="weui-actionsheet__cell" bind:tap="onClickCopyPath">复制网址</view>
            </view>
            <view class="weui-actionsheet__action" bindtap="onClickCancelShareChoose">
                <view class="weui-actionsheet__cell">取消</view>
            </view>
        </view>
    </view>

    <view class="copyright">Powered by Fresns</view>
    <tabbar activeLabel="post"></tabbar>
</view>
