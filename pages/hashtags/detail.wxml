<!-- *
    Fresns 微信小程序 (https://fresns.org)
    Copyright 2021-Present Jarvis Tang
    Licensed under the Apache-2.0 license
* -->
<page-meta root-font-size="system"/>
<view class="page" data-weui-theme="{{theme}}">
    <view class="weui-media-box weui-media-box_appmsg">
        <view class="weui-media-box__hd">
            <image class="weui-media-box__thumb" src="https://fresns.org/prototype/assets/images/temp/placeholder_icon.png"></image>
        </view>
        <view class="weui-media-box__bd">
            <view class="weui-media-box__title">{{hashtags[0].hname}}</view>
            <view class="weui-media-box__desc" wx:if="{{hashtags[0].description}}">{{hashtags[0].description}}</view>
        </view>
    </view>

    <view class="interactive-group">
        <view class="weui-media-box__info">
            <view class="weui-media-box__info__meta">{{hashtags[0].likeCount}} 人点赞</view>
            <view class="weui-media-box__info__meta weui-media-box__info__meta_extra">{{hashtags[0].followCount}} 人加入</view>
            <view class="weui-media-box__info__meta weui-media-box__info__meta_extra">{{hashtags[0].postCount}} 个帖子</view>
            <view class="weui-media-box__info__meta weui-media-box__info__meta_extra">{{hashtags[0].essenceCount}} 个精华帖</view>
        </view>

        <view slot="btn" class="interactive-btn">
            <view wx:if="{{hashtags[0].likeStatus === 0}}"
                  class="weui-btn weui-btn_mini weui-btn_default"
                  data-hashtag="{{hashtags[0]}}"
                  bind:tap="onClickHashtagLike">
                <image class="weui-btn_cell__icon" src="/assets/images/like.png"></image>
                点赞
            </view>

            <view wx:if="{{hashtags[0].likeStatus === 1}}"
                  class="weui-btn weui-btn_mini weui-btn_primary"
                  data-hashtag="{{hashtags[0]}}"
                  bind:tap="onClickHashtagLike">
                <image class="weui-btn_cell__icon" src="/assets/images/like-active.png"></image>
                已点赞
            </view>

            <view wx:if="{{hashtags[0].followStatus === 0}}"
                  class="weui-btn weui-btn_mini weui-btn_default"
                  data-hashtag="{{hashtags[0]}}"
                  bind:tap="onClickHashtagFollow">
                <image class="weui-btn_cell__icon" src="/assets/images/follow.png"></image>
                加入
            </view>

            <view wx:if="{{hashtags[0].followStatus === 1}}"
                  class="weui-btn weui-btn_mini weui-btn_primary"
                  data-hashtag="{{hashtags[0]}}"
                  bind:tap="onClickHashtagFollow">
                <image class="weui-btn_cell__icon" src="/assets/images/follow-active.png"></image>
                已加入
            </view>

            <view wx:if="{{hashtags[0].shieldStatus === 0}}"
                  class="weui-btn weui-btn_mini weui-btn_default"
                  data-hashtag="{{hashtags[0]}}"
                  bind:tap="onClickHashtagBlock">
                <image class="weui-btn_cell__icon" src="/assets/images/shield.png"></image>
                屏蔽
            </view>

            <view wx:if="{{hashtags[0].shieldStatus === 1}}"
                  class="weui-btn weui-btn_mini weui-btn_primary"
                  data-hashtag="{{hashtags[0]}}"
                  bind:tap="onClickHashtagBlock">
                <image class="weui-btn_cell__icon" src="/assets/images/shield-active.png"></image>
                已屏蔽
            </view>
        </view>
    </view>

    <view class="post-list">
        <view class="weui-cells__title">最新帖子</view>
        <block wx:for="{{posts}}" wx:for-item="post" wx:key="pid">
            <post generic:contentType="list" fsui="list-style" post="{{post}}"></post>
        </block>
    </view>

    <view class="copyright">Powered by Fresns</view>
</view>
